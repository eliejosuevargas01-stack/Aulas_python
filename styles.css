/* =========================================
   1. DESIGN TOKENS (Vercel/Stripe Dark Vibe)
   ========================================= */
:root {
  /* Bases (Dark - Next.js) */
  --bg-body: #000000;
  --bg-card: #0d0d0d;
  --bg-input: #111111;
  --bg-code: #0b0b0b;

  /* Bordas */
  --border-subtle: #1f1f1f;
  --border-focus: #2a2a2a;
  --border-active: #0070f3;

  /* Texto */
  --text-primary: #f8f8f8;
  --text-secondary: #a1a1aa;
  --text-tertiary: #71717a;

  /* Accents */
  --brand-primary: #0070f3;
  --brand-glow: rgba(0, 112, 243, 0.2);
  --success: #22c55e;
  --error: #ef4444;
  --warning: #f59e0b;

  /* Fontes */
  --font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  --font-mono: "SF Mono", "Fira Code", "Roboto Mono", Menlo, monospace;

  /* Layout */
  --radius-sm: 6px;
  --radius-md: 12px;
  --header-height: 70px;
}

body[data-theme="light"] {
  --bg-body: #f3f4f6;
  --bg-card: #ffffff;
  --bg-input: #eef2f7;
  --bg-code: #0f172a;

  --border-subtle: #c7cfdb;
  --border-focus: #64748b;
  --border-active: #1d4ed8;

  --text-primary: #0b1220;
  --text-secondary: #1f2a44;
  --text-tertiary: #3b475c;

  --brand-primary: #1d4ed8;
  --brand-glow: rgba(29, 78, 216, 0.22);
  --success: #16a34a;
  --error: #dc2626;
  --warning: #f59e0b;
}

/* =========================================
   2. RESET & GLOBAL
   ========================================= */
* { box-sizing: border-box; margin: 0; padding: 0; }

body {
  background-color: var(--bg-body);
  color: var(--text-primary);
  font-family: var(--font-sans);
  -webkit-font-smoothing: antialiased;
  line-height: 1.6;
}

/* Fundo com Grid Sutil (Clássico Tech) */
body::before {
  content: "";
  position: fixed;
  top: 0; left: 0; width: 100%; height: 100%;
  background-image: 
    radial-gradient(circle, rgba(148, 163, 184, 0.35) 1px, transparent 1px),
    linear-gradient(var(--border-subtle) 1px, transparent 1px),
    linear-gradient(90deg, var(--border-subtle) 1px, transparent 1px);
  background-size: 56px 18px, 48px 48px, 48px 48px;
  opacity: 0.2;
  z-index: -2;
  pointer-events: none;
}

body::after {
  content: "";
  position: fixed;
  inset: -10% -10% auto -10%;
  height: 120%;
  background:
    radial-gradient(600px 400px at 10% 20%, rgba(59, 130, 246, 0.18), transparent 60%),
    radial-gradient(500px 360px at 85% 10%, rgba(34, 197, 94, 0.16), transparent 60%),
    radial-gradient(700px 420px at 50% 90%, rgba(245, 158, 11, 0.14), transparent 65%);
  z-index: -3;
  pointer-events: none;
  mix-blend-mode: screen;
  opacity: 0.45;
}

body[data-theme="light"]::before {
  background-image:
    radial-gradient(circle, rgba(71, 85, 105, 0.5) 1px, transparent 1px),
    linear-gradient(var(--border-focus) 1px, transparent 1px),
    linear-gradient(90deg, var(--border-focus) 1px, transparent 1px);
  opacity: 0.28;
}

body[data-theme="light"]::after {
  mix-blend-mode: multiply;
  opacity: 0.55;
}

/* Scrollbar invisível mas funcional */
::-webkit-scrollbar { width: 8px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: var(--border-subtle); border-radius: 4px; }
::-webkit-scrollbar-thumb:hover { background: var(--text-tertiary); }

/* =========================================
   3. BACKGROUND GLOWS (Ambient)
   ========================================= */
.bg-shape { display: none; }

/* =========================================
   4. DEV STATUS BAR (Dashboard Top)
   ========================================= */
.dev-status-bar {
  position: sticky;
  top: 0;
  z-index: 100;
  background: var(--bg-card);
  border-bottom: 1px solid var(--border-subtle);
  padding: 0.8rem 0;
  font-size: 0.9rem;
}

.ds-container {
  max-width: 1400px;
  margin: 0 auto;
  padding: 0 2rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.ds-identity { display: flex; gap: 1rem; align-items: center; }
.ds-avatar { font-size: 1.2rem; }
.ds-info h3 { font-size: 0.95rem; font-weight: 600; color: var(--text-primary); }
.ds-label { font-size: 0.7rem; text-transform: uppercase; letter-spacing: 0.05em; color: var(--text-tertiary); }

/* Barra de progresso fina e precisa */
.ds-progress-area { width: 300px; }
.ds-progress-header { display: flex; justify-content: space-between; font-size: 0.75rem; color: var(--text-secondary); margin-bottom: 6px; }
.ds-track { height: 4px; background: var(--border-subtle); border-radius: 2px; overflow: hidden; }
.ds-fill { height: 100%; background: var(--brand-primary); box-shadow: 0 0 10px var(--brand-primary); transition: width 0.4s ease; }
.ds-subtext { display: none; } /* Limpar visual no topo */

.ds-metrics { display: flex; gap: 2rem; }
.ds-metric-item { text-align: right; }
.ds-metric-val { display: block; font-family: var(--font-mono); font-weight: 700; color: var(--text-primary); }
.ds-metric-label { font-size: 0.7rem; color: var(--text-tertiary); }

/* =========================================
   5. HEADER & CONTROLS
   ========================================= */
.hero {
  max-width: 1400px;
  margin: 4rem auto 2rem;
  padding: 0 2rem;
}

.hero-top { display: flex; justify-content: space-between; align-items: center; margin-bottom: 4rem; }
.brand {
  display: flex;
  align-items: flex-start;
  gap: 1.5rem;
  justify-content: center;
  flex: 1;
}
.logo {
  width: clamp(72px, 10vw, 140px);
  height: clamp(72px, 10vw, 140px);
  display: grid;
  place-items: center;
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: clamp(12px, 2vw, 22px);
  box-shadow: 0 12px 28px rgba(15, 23, 42, 0.18);
}
.logo img {
  width: clamp(48px, 7vw, 100px);
  height: clamp(48px, 7vw, 100px);
  border-radius: clamp(8px, 1.6vw, 16px);
}

.hero .logo {
  display: none;
}
.brand-text {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  text-align: right;
}
.wordmark {
  height: clamp(90px, 14vw, 200px);
  opacity: 0.95;
  margin: 0;
  max-width: 100%;
  object-fit: contain;
}
.wordmark-caption {
  margin-top: 10px;
  font-size: 1.4rem;
  font-weight: 600;
  color: var(--brand-primary);
  letter-spacing: 0.04em;
}
.tagline { display: none; }

.hero-body h1 {
  font-size: 3.5rem;
  letter-spacing: -0.04em;
  line-height: 1.1;
  color: var(--text-primary);
  max-width: 800px;
  margin-bottom: 1.5rem;
}
.subtitle { font-size: 1.2rem; color: var(--text-secondary); max-width: 600px; font-weight: 400; }

.stats {
  display: flex;
  gap: 3rem;
  margin-top: 3rem;
  padding-top: 2rem;
  border-top: 1px solid var(--border-subtle);
}
.stat-card .stat-label { font-size: 0.75rem; color: var(--text-secondary); text-transform: uppercase; letter-spacing: 1px; }
.stat-card .stat-value { font-family: var(--font-mono); font-size: 1.5rem; margin-top: 0.5rem; color: var(--text-primary); }

/* Controles (Search bar estilo 'Command Palette') */
.controls {
  max-width: 1400px;
  margin: 0 auto 3rem;
  padding: 0 2rem;
  display: flex;
  gap: 1rem;
}
.field { flex: 1; position: relative; }
.field span { position: absolute; top: -1.5rem; font-size: 0.75rem; color: var(--text-tertiary); }

input[type="search"], select {
  width: 100%;
  background: var(--bg-input);
  border: 1px solid var(--border-subtle);
  color: var(--text-primary);
  padding: 0.8rem 1rem;
  border-radius: var(--radius-sm);
  font-family: var(--font-sans);
  font-size: 0.9rem;
  transition: all 0.2s;
}
input[type="search"]:focus, select:focus {
  outline: none;
  border-color: var(--brand-primary);
  box-shadow: 0 0 0 2px var(--brand-glow);
  background: var(--bg-card);
}

.btn {
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  color: var(--text-primary);
  padding: 0 1.5rem;
  border-radius: var(--radius-sm);
  font-size: 0.85rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s;
  height: 42px; /* Alinhar com inputs */
  display: inline-flex;
  align-items: center;
  justify-content: center;
}
.btn:hover { border-color: var(--text-secondary); background: var(--bg-input); }
.btn.accent { background: var(--brand-primary); color: #fff; border: none; font-weight: 600; }
.btn.accent:hover { opacity: 0.9; }

/* =========================================
   6. LESSON CARD & SPLIT LAYOUT (UI PRINCIPAL)
   ========================================= */
main { max-width: 1400px; margin: 0 auto; padding: 0 2rem 6rem; }

.lesson-list { display: flex; flex-direction: column; gap: 4rem; }

/* O CARD É UM CONTAINER INVISÍVEL AGORA */
.lesson-card {
  /* Em mobile é bloco, em desktop vira grid */
  position: relative;
}

@media (min-width: 1100px) {
  .lesson-card {
    display: grid;
    grid-template-columns: 45% 55%; /* Conteúdo menor, Código maior */
    gap: 4rem;
    align-items: start;
    padding-top: 2rem;
    border-top: 1px solid var(--border-subtle); /* Separador entre aulas */
  }
  
  /* Lado Esquerdo: Texto */
  .lesson-header, .lesson-summary, .lesson-highlights, .lesson-actions {
    grid-column: 1 / 2;
  }
  
  /* Ações ficam abaixo do texto */
  .lesson-actions {
    margin-top: 2rem;
    border-top: none;
    justify-content: flex-start;
  }

  /* Lado Direito: Código (Sticky) */
  .right-rail {
    grid-column: 2 / 3;
    grid-row: 1 / 10;
    position: sticky;
    top: 120px;
    max-height: calc(100vh - 140px);
    display: grid;
    gap: 1.5rem;
    overflow: auto;
  }

  .code-lab,
  .lesson-chat {
    position: static;
  }
}

/* Estilo do Conteúdo (Esquerda) */
.lesson-header { margin-bottom: 2rem; }
.lesson-label { font-family: var(--font-mono); color: var(--brand-primary); font-size: 0.8rem; margin-bottom: 0.5rem; }
.lesson-title { font-size: 2rem; letter-spacing: -0.03em; line-height: 1.2; margin-bottom: 1rem; }
.lesson-meta .pill { 
  display: inline-block; font-size: 0.75rem; color: var(--text-tertiary); border: 1px solid var(--border-subtle); padding: 2px 8px; border-radius: 4px; margin-right: 0.5rem;
}

.lesson-summary {
  color: var(--text-secondary);
  font-size: 1.25rem;
  line-height: 1.75;
  margin-bottom: 2rem;
  background: var(--bg-input);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-md);
  padding: 1.25rem 1.5rem;
  display: none;
}

.lesson-highlights {
  background: rgba(255,255,255,0.03);
  border-left: 2px solid var(--brand-primary);
  padding: 1.5rem;
  margin-bottom: 2rem;
  display: flex;
  flex-wrap: wrap;
  gap: 0.6rem;
}
.lesson-highlights ul {
  list-style: none;
  display: flex;
  flex-wrap: wrap;
  gap: 0.6rem;
  margin: 0;
  padding: 0;
}
.lesson-highlights li {
  margin: 0;
  font-size: 0.9rem;
  color: var(--text-primary);
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: 999px;
  padding: 0.25rem 0.7rem;
}
.lesson-highlights .highlight {
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: 999px;
  padding: 0.25rem 0.7rem;
  font-size: 0.9rem;
  color: var(--text-primary);
}

/* Blocos de texto relevantes */
.slide-body {
  color: var(--text-primary);
  line-height: 1.75;
  font-size: 1.15rem;
}

.slide-body .prose {
  background: var(--bg-input);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-md);
  padding: 1.4rem 1.7rem;
  color: var(--text-secondary);
  white-space: pre-line;
}

.slide-body .answer-box,
.slide-body .quiz,
.slide-body .exercise,
.slide-body .concept {
  background: var(--bg-input);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-md);
  padding: 1rem 1.25rem;
}

.slide-body .mini-quiz {
  margin-top: 1.5rem;
  background: var(--bg-input);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-md);
  padding: 1.2rem 1.4rem;
  display: grid;
  gap: 1rem;
}

.mini-quiz-title {
  font-size: 1rem;
  font-weight: 600;
  color: var(--text-primary);
}

.mini-quiz-item {
  display: grid;
  gap: 0.5rem;
}

.mini-quiz-label {
  font-size: 0.95rem;
  font-weight: 600;
  color: var(--text-primary);
}

.mini-quiz-input {
  width: 100%;
  min-height: 110px;
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-sm);
  color: var(--text-primary);
  padding: 0.75rem 0.9rem;
  font-family: var(--font-sans);
  resize: vertical;
}

.mini-quiz-input:focus {
  outline: none;
  border-color: var(--border-active);
  box-shadow: 0 0 0 2px var(--brand-glow);
}

.mini-quiz-actions {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 1rem;
}

.mini-quiz-status {
  font-size: 0.9rem;
  color: var(--text-secondary);
}

.mini-quiz-result {
  margin-top: 1.25rem;
  padding-top: 1rem;
  border-top: 1px solid var(--border-subtle);
  display: grid;
  gap: 0.9rem;
  position: relative;
  overflow: hidden;
}

.mini-quiz-result-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 1rem;
}

.mini-quiz-grade {
  font-size: 1.05rem;
  font-weight: 700;
  color: var(--text-primary);
}

.mini-quiz-grade.is-good {
  color: var(--success);
}

.mini-quiz-grade.is-warn {
  color: var(--warning);
}

.mini-quiz-grade.is-bad {
  color: var(--error);
}

.mini-quiz-status-pill {
  font-size: 0.75rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--success);
}

.mini-quiz-feedback {
  color: var(--text-secondary);
  font-size: 0.95rem;
}

.mini-quiz-result-list {
  display: grid;
  gap: 0.8rem;
}

.mini-quiz-result-item {
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-sm);
  padding: 0.85rem 1rem;
  display: grid;
  gap: 0.4rem;
}

.mini-quiz-result-q {
  font-weight: 600;
  color: var(--text-primary);
}

.mini-quiz-result-a {
  color: var(--text-secondary);
}

.mini-quiz-result-meta {
  display: flex;
  flex-direction: column;
  gap: 0.15rem;
  font-size: 0.85rem;
  color: var(--text-tertiary);
}

.mini-quiz-result.has-fireworks::before,
.mini-quiz-result.has-fireworks::after {
  content: "";
  position: absolute;
  top: -40px;
  width: 140px;
  height: 140px;
  border-radius: 50%;
  background:
    radial-gradient(circle, rgba(34, 197, 94, 0.9) 0 2px, transparent 3px),
    radial-gradient(circle, rgba(245, 158, 11, 0.9) 0 2px, transparent 3px),
    radial-gradient(circle, rgba(59, 130, 246, 0.9) 0 2px, transparent 3px),
    radial-gradient(circle, rgba(236, 72, 153, 0.9) 0 2px, transparent 3px),
    radial-gradient(circle, rgba(250, 204, 21, 0.9) 0 2px, transparent 3px),
    radial-gradient(circle, rgba(14, 165, 233, 0.9) 0 2px, transparent 3px);
  background-size: 22px 22px;
  background-position: 0 0, 20px 10px, 40px 0, 60px 12px, 80px 0, 100px 14px;
  opacity: 0;
  animation: fireworks-burst 1.2s ease-out both;
  pointer-events: none;
}

.mini-quiz-result.has-fireworks::before {
  left: -20px;
  animation-delay: 0.05s;
}

.mini-quiz-result.has-fireworks::after {
  right: -20px;
  animation-delay: 0.18s;
}

@keyframes fireworks-burst {
  0% {
    transform: scale(0.2);
    opacity: 0;
  }
  30% {
    opacity: 1;
  }
  70% {
    opacity: 0.9;
  }
  100% {
    transform: scale(1.2);
    opacity: 0;
  }
}

.slide-body pre {
  white-space: pre-wrap !important;
  word-break: break-word;
  overflow-wrap: anywhere;
  overflow-x: hidden;
}

.slide-body pre code {
  white-space: pre-wrap !important;
  word-break: break-word;
  overflow-wrap: anywhere;
}

.lesson-section .section-body .prose {
  background: var(--bg-input);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-md);
  padding: 1rem 1.25rem;
  white-space: pre-line;
}

/* =========================================
   7. CODE EDITOR (IDE STYLE)
   ========================================= */
.code-lab {
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-md);
  box-shadow: 0 20px 40px -10px rgba(0,0,0,0.5); /* Sombra de elevação */
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

/* Header do Editor (Abas) */
.code-header {
  background: var(--bg-input);
  border-bottom: 1px solid var(--border-subtle);
  padding: 0.75rem 1rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.code-eyebrow { display: none; }
.code-header h3 { font-size: 0.85rem; font-family: var(--font-sans); color: var(--text-primary); font-weight: 500; }
.code-help { display: none; }

.code-actions .btn {
  font-size: 0.75rem; padding: 0.3rem 0.8rem; height: auto;
}
.code-actions .btn.accent { background: var(--brand-primary); color: #fff; }

/* Inputs de meta (Nome do arquivo) */
.code-meta {
  background: var(--bg-card);
  padding: 0.5rem 1rem;
  border-bottom: 1px solid var(--border-subtle);
  display: flex;
  gap: 1rem;
}
.code-field { display: flex; align-items: center; gap: 0.5rem; width: 100%; }
.code-field span { display: none; } /* Esconder label, deixar placeholder */
.code-field input {
  font-family: var(--font-mono); font-size: 0.85rem; color: var(--text-primary);
  background: transparent; border: none; width: 100%; padding: 0;
}
.code-field input:focus { color: var(--brand-primary); }

/* Área de Texto */
.code-label { display: none; }
.code-input {
  width: 100%;
  background: var(--bg-code);
  color: #e2e8f0;
  font-family: var(--font-mono);
  font-size: 0.9rem;
  line-height: 1.6;
  border: none;
  padding: 1.5rem;
  min-height: 300px;
  resize: vertical;
}
.code-input:focus { outline: none; }

/* Terminal Output */
.code-output {
  background: var(--bg-code);
  border-top: 1px solid var(--border-subtle);
  font-family: var(--font-mono);
  font-size: 0.85rem;
  padding: 1rem 1.5rem;
  color: rgba(226, 232, 240, 0.85);
  min-height: 80px;
}
.code-output::before { content: "Output:"; display: block; font-size: 0.7rem; color: var(--text-tertiary); margin-bottom: 0.5rem; text-transform: uppercase; }

/* Status */
.code-status { padding: 0 1.5rem 0.5rem; font-size: 0.75rem; font-family: var(--font-mono); text-align: right; }
.code-status.success { color: var(--success); }

.code-chat {
  border-top: 1px solid var(--border-subtle);
  background: var(--bg-card);
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  padding: 1rem 1.5rem 1.25rem;
}

.lesson-chat {
  margin-top: 1.5rem;
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-md);
  box-shadow: 0 12px 30px rgba(0, 0, 0, 0.3);
  overflow: hidden;
}

.lesson-chat .code-chat {
  border-top: none;
  background: transparent;
}

.code-chat-header h4 {
  margin: 0;
  font-size: 0.95rem;
  color: var(--text-primary);
}

.code-chat-messages {
  background: var(--bg-input);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-md);
  padding: 0.75rem;
  min-height: 120px;
  max-height: 200px;
  overflow-y: auto;
  display: grid;
  gap: 0.5rem;
  font-size: 0.9rem;
}

.code-chat-message {
  padding: 0.6rem 0.8rem;
  border-radius: 12px;
  background: #0b0b0b;
  color: #e5e7eb;
}

.code-chat-message.user {
  background: rgba(0, 112, 243, 0.15);
  border: 1px solid rgba(0, 112, 243, 0.3);
  color: var(--text-primary);
  justify-self: end;
  max-width: 80%;
}

.code-chat-message.bot {
  background: var(--bg-code);
  border: 1px solid var(--border-subtle);
  color: var(--text-secondary);
  max-width: 80%;
}

.code-chat-code-bar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.75rem;
  padding: 0.5rem 0;
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.06em;
  color: var(--text-tertiary);
}

.code-chat-message pre {
  background: var(--bg-code);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-md);
  padding: 0.75rem;
  margin: 0;
  overflow-x: auto;
}

.code-chat-message code {
  font-family: var(--font-mono);
  color: var(--text-primary);
}

.code-chat-input {
  display: grid;
  gap: 0.5rem;
}

.code-chat-textarea {
  width: 100%;
  resize: vertical;
  min-height: 80px;
  background: var(--bg-input);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-md);
  padding: 0.75rem;
  font-family: var(--font-sans);
  color: var(--text-primary);
}

.code-chat-textarea:focus {
  outline: none;
  border-color: var(--brand-primary);
  box-shadow: 0 0 0 2px var(--brand-glow);
}

.code-chat-actions {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.75rem;
}

.code-chat-status {
  font-size: 0.8rem;
  color: var(--text-tertiary);
}

/* =========================================
   8. COMPLETED SECTION & MOBILE
   ========================================= */
.completed-section { border-top: 1px solid var(--border-subtle); padding-top: 4rem; opacity: 0.6; transition: opacity 0.3s; }
.completed-section:hover { opacity: 1; }
.completed-list { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 1rem; }
.completed-card {
  background: var(--bg-input); border: 1px solid var(--border-subtle); padding: 1.5rem; border-radius: var(--radius-sm);
}
.completed-title { font-size: 1rem; color: var(--text-primary); }
.completed-label { font-size: 0.7rem; color: var(--text-tertiary); text-transform: uppercase; margin-bottom: 0.5rem; }
.completed-summary {
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-md);
  padding: 0.9rem 1.1rem;
  color: var(--text-secondary);
}

/* Ajustes Mobile */
@media (max-width: 768px) {
  .ds-container { flex-direction: column; align-items: stretch; gap: 1rem; }
  .ds-progress-area { width: 100%; }
  .hero-top { flex-direction: column; align-items: flex-start; gap: 1.5rem; }
  .hero-body h1 { font-size: 2.2rem; }
  .stats { flex-wrap: wrap; gap: 2rem; }
  .controls { flex-direction: column; }
  .lesson-card { display: flex; flex-direction: column; gap: 2rem; border-top: 1px solid var(--border-subtle); padding-top: 2rem; }
  .code-lab { min-height: auto; }
}

/* Theme Toggle (Pequeno ajuste visual) */
.switch { border-color: var(--text-tertiary); background: transparent; }
.slider { background: var(--text-tertiary); }
.switch input:checked + .slider { background: var(--text-primary); transform: translateX(20px); }
